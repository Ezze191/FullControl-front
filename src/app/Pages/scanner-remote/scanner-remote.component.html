<!-- Pantalla completa optimizada para m칩vil -->
<div class="scanner-remote-container">

    <!-- Header -->
    <div class="header">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h1 class="title">游님 Esc치ner Remoto</h1>
                <p class="subtitle">Escanea c칩digos para el POS</p>
            </div>
            <button class="btn btn-sm btn-light" (click)="goToPOS()">
                <i class="bi bi-arrow-left"></i> POS
            </button>
        </div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar">
        <div class="status-item">
            <i class="bi bi-wifi text-success"></i>
            <span>Conectado</span>
        </div>
        <div class="status-item">
            <i class="bi bi-upc-scan"></i>
            <span>{{ scanCount }} escaneados</span>
        </div>
        <button class="btn btn-sm btn-outline-light" (click)="resetCounter()">
            <i class="bi bi-arrow-clockwise"></i>
        </button>
    </div>

    <!-- Last Scanned Feedback -->
    <div class="scan-feedback" *ngIf="lastScannedCode">
        <div class="scan-success">
            <i class="bi bi-check-circle-fill"></i>
            <span>{{ lastScannedCode }}</span>
            <small>Enviado al POS</small>
        </div>
    </div>

    <!-- Permission Messages -->
    <div class="message-container" *ngIf="hasPermission === null">
        <div class="alert alert-info">
            <div class="spinner-border spinner-border-sm me-2"></div>
            Solicitando acceso a la c치mara...
        </div>
    </div>

    <div class="message-container" *ngIf="hasPermission === false">
        <div class="alert alert-warning">
            <i class="bi bi-exclamation-triangle me-2"></i>
            Por favor, permite el acceso a la c치mara
        </div>
    </div>

    <div class="message-container" *ngIf="hasPermission === true && !hasDevices">
        <div class="alert alert-danger">
            <i class="bi bi-camera-video-off me-2"></i>
            No se encontraron c치maras
        </div>
    </div>

    <!-- Camera Selector -->
    <div class="camera-selector" *ngIf="availableDevices.length > 1">
        <select class="form-select" (change)="onDeviceSelectChange($any($event.target).value)">
            <option *ngFor="let device of availableDevices" [value]="device.deviceId"
                [selected]="currentDevice && device.deviceId === currentDevice.deviceId">
                {{ device.label }}
            </option>
        </select>
    </div>

    <!-- Scanner View -->
    <div class="scanner-view" [class.d-none]="hasPermission === false">
        <zxing-scanner #scanner [enable]="scannerEnabled" [device]="currentDevice"
            (camerasFound)="onCamerasFound($event)" (permissionResponse)="onPermissionResponse($event)"
            (scanSuccess)="onCodeResult($event)" (scanError)="onScanError($event)"
            [formats]="['CODE_128', 'CODE_39', 'EAN_13', 'EAN_8', 'UPC_A', 'UPC_E', 'ITF', 'CODE_93']"
            [tryHarder]="true" [timeBetweenScans]="500" [delayBetweenScanAttempts]="500">
        </zxing-scanner>

        <!-- Scan Guide Overlay -->
        <div class="scan-guide">
            <div class="scan-line"></div>
            <p class="scan-instruction">Apunta al c칩digo de barras</p>
        </div>
    </div>

    <!-- Instructions -->
    <div class="instructions">
        <p><i class="bi bi-info-circle me-2"></i>Los productos se agregar치n autom치ticamente al POS</p>
    </div>

</div>